### 享元模式原理与实现
- 所谓“享元”，顾名思义就是被共享的单元。享元模式的意图是复用对象，节省内存，前提是享元对象是不可
变对象。
- 当一个系统中存在大量重复对象的时候，如果这些重复的对象是不可变对象，就可以利用享元模式将对象设
计成享元，在内存中只保留一份实例，供多处代码引用，这样可以减少内存中对象的数量，以起到节省内存的
目的。实际上，不仅仅相同对象可以设计成享元，对于相似对象，也可以将这些对象中相同的部分（字段），
提取出来设计成享元，让这些大量相似对象引用这些享元。

### 享元模式的实现
主要是通过工厂模式，在工厂类中，通过一个 Map 或者 List 来缓存已经创建好的享元对象，以达到复用的目
的。

### 享元模式 vs 单例
在单例模式中，一个类只能创建一个对象，而在享元模式中，一个类可以创建多个对象，每个对象被多处代码
引用共享。实际上，享元模式有点类似于单例的变体：多例。

尽管从代码实现上来看，享元模式和多例有很多相似之处，但从设计意图上来看，它们是完全不同的。**应用享
元模式是为了对象复用，节省内存，而应用多例模式是为了限制对象的个数。**

### 享元模式跟缓存的区别
平时所讲的缓存，主要是为了提高访问效率，而享元模式是为了复用。

### 享元模式跟对象池的区别
在任意时刻，每一个对象、连接、线程，并不会被多处使用，而是被一个使用者独占，当使用完成之后，放回
到池中，再由其他使用者重复利用，主要是为了节约时间。享元模式中的“复用”可以理解为“共享使用”，在整
个生命周期中，都是被所有使用者共享的，主要目的是节省空间。

### 注意
**享元模式对 JVM 的垃圾回收并不友好。** 因为享元工厂类一直保存了对享元对象的引用，这就导致享元对象在
没有任何代码使用的情况下，也并不会被 JVM 垃圾回收机制自动回收掉。因此，在某些情况下，如果对象的
生命周期很短，也不会被密集使用，利用享元模式反倒可能会浪费更多的内存。所以，除非经过线上验证，利
用享元模式真的可以大大节省内存，否则，就不要过度使用这个模式，为了一点点内存的节省而引入一个复杂
的设计模式，得不偿失啊。